---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "pcluster_cluster Resource - pcluster"
subcategory: ""
description: |-
  Create a managed cluster in an AWS Region.
---

# pcluster_cluster (Resource)

Create a managed cluster in an AWS Region.

## Example Usage

```terraform
locals {
  example_config = {
    Region = var.region
    Image = {
      Os = "alinux2"
    }
    HeadNode = {
      InstanceType = var.head_node_type
      Networking = {
        ElasticIp = true
        SubnetId  = var.subnet
      }
      Ssh = {
        KeyName = var.key_pair
      }
    }
    Scheduling = {
      Scheduler = "slurm"
      SlurmQueues = [
        {
          Name         = "queue1"
          CapacityType = "ONDEMAND"
          Networking = {
            SubnetIds      = [var.subnet]
            AssignPublicIp = true
          }
          ComputeResources = [
            {
              Name                              = "compute"
              InstanceType                      = var.compute_node_type
              MinCount                          = var.min_nodes
              MaxCount                          = var.max_nodes
              DisableSimultaneousMultithreading = true
            }
          ]
        }
      ]
      SlurmSettings = {
        QueueUpdateStrategy = "TERMINATE"
      }
    }

  }
}

resource "pcluster_cluster" "example" {
  cluster_name             = var.cluster_name
  region                   = var.region
  rollback_on_failure      = true
  validation_failure_level = "WARNING"
  suppress_validators      = []

  cluster_configuration = yamlencode(local.example_config)
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_configuration` (String) The cluster configuration as a YAML document.
- `cluster_name` (String) The name of the cluster to create. The name must start with an alphabetical character. The name can have up to 60 characters. If Slurm accounting is enabled, the name can have up to 40 characters.

### Optional

- `region` (String) The AWS Region that the cluster is in.
- `rollback_on_failure` (Boolean) If set to true, cluster stack rollback occurs if the cluster fails to create. The default is true.
- `suppress_validators` (List of String) Identify one or more configuration validators to suppress.
- `validation_failure_level` (String) The minimum validation level that causes cluster create to fail. The default is ERROR.

### Read-Only

- `cloudformation_stack_arn` (String) The Amazon Resource Name (ARN) of the main CloudFormation stack.
- `cloudformation_stack_status` (String) Status of the cloudformation stack.
- `cluster_status` (String) Status of the cluster.
- `id` (String) Cluster identifier
- `version` (String) The AWS ParallelCluster version that's used to create the cluster.
